MyTestSET <- MyTestSET[ , -which(names(MyTestSET) %in% c("recession"))]
head(MyTestSET)
TrainKnownLabels <- MyTrainingSET$recession
MyTrainingSET2 <- MyTrainingSET[ , -which(names(MyTrainingSET) %in% c("recession"))]
head(MyTrainingSET2)
TrainKnownLabels <- MyTrainingSET$recession
MyTrainingSET2 <- MyTrainingSET[ , -which(names(MyTrainingSET) %in% c("recession"))]
head(MyTrainingSET2)
NB<-naiveBayes(MyTrainingSET,
TrainKnownLabels,
laplace = 1)
summary(NB)
typeof(df['gdp_value'][0])
NB_Pred <- predict(NB, MyTestSET)
NB_Pred[1:10]
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
df.str
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
df.str()
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
df %>%
filter(month(date) %in% c(1, 2, 3, 4, 5))
df <- df %>% mutate(month = format(date, "%B"))
View(df)
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
df %>%
filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
df %>% mutate(month = format(dmy(df$date , "%B"))
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
#df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
df <- df %>% mutate(month = format(ymd(date , "%Y-%m-%d"))
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
#df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
df <- df %>% mutate(month = format(ymd(date , "%Y-%m-%d")))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
df %>% mutate(month = format(ymd(date , "%Y-%m-%d")))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(date , "%Y-%m-%d"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
#df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
#df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
#df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
df <- subset(df, select = -c(date) )
df
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
df <- subset(df, select = -c(date) )
df
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
#df <- subset(df, select = -c(date) )
df
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
df <- subset(df, select = -c(date) )
df
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df1 %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
df1 <- subset(df, select = -c(date) )
df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
df <- subset(df, select = -c(date) )
df
df
df <- mutate(month = format(date, "%B"))
df %>% mutate(month = format(date, "%B"))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
#df$date = strptime(df$date, "%Y-%m-%d %H:%M:%S")
#df %>%
#filter(month(date) %in% c(1, 2, 3, 4, 5))
df %>% mutate(month = format(date, "%B"))
df <- subset(df, select = -c(date) )
df
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df %>% mutate(month = format(date, "%B"))
df <- subset(df, select = -c(date) )
df
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df %>% mutate(month = format(date, "%B"))
df1 <- subset(df, select = -c(date) )
df1
df1
df1 <- subset(df, select = -c(X) )
df1
df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df %>% mutate(month = format(date, "%B"))
df1 <- subset(df, select = -c(date) )
df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df %>% mutate(month = format(date, "%B"))
df1 <- subset(df, select = -c(date) )
df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df
#df %>% mutate(month = format(date, "%B"))
#df1 <- subset(df, select = -c(date) )
#df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df %>% mutate(month = format(date, "%B"))
df
#df1 <- subset(df, select = -c(date) )
#df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df %>% mutate(month = format(date, "%B"))
df
#df1 <- subset(df, select = -c(date) )
#df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(dmy(df$month))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(dmy(df$date))
#df %>% mutate(month = format(date, "%B"))
#df   strptime(df$date, "%Y-%m-%d")
#df1 <- subset(df, select = -c(date) )
#df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
#df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(df$date)
#df %>% mutate(month = format(date, "%B"))
#df   strptime(df$date, "%Y-%m-%d")
#df1 <- subset(df, select = -c(date) )
#df1
View(df)
View(df)
df$month <- as.factor(df$month)
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
#df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(df$date)
df$month <- as.factor(df$month)
```{r}
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
#df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(df$date)
df$month <- as.factor(df$month)
```{r}
#Splitting into test and train
df <- df1()
#Splitting into test and train
DataSize=nrow(df) ## how many rows?
TrainingSet_Size<-floor(DataSize*(3/4)) ## Size for training set
TestSet_Size <- DataSize - TrainingSet_Size ## Size for testing set
## Random sample WITHOUT replacement (why?)
## set a seed if you want it to be the same each time you
## run the code. The number (like 2190) does not matter
set.seed(2190)
## This is the sample of row numbers
MyTrainSample <- sample(nrow(df),
TrainingSet_Size,replace=FALSE)
## Use the sample of row numbers to grab those rows only from
## the dataframe....
MyTrainingSET <- df[MyTrainSample,]
table(MyTrainingSET$recession)
table(MyTrainingSET$unemployment_value)
table(MyTrainingSET$unemployment_value)
df
df1
df1 <- subset(df, -c(date, X))
df2 <- subset(df, -c(date))
df1 <- subset(df, -c(date))
df1
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
#df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(df$date)
df$month <- as.factor(df$month)
df1 <- subset(df, -c(date))
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
#df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(df$date)
df$month <- as.factor(df$month)
df
df1 <- subset(df, -c(date))
df1 <- subset(df, -c(date))
df1 <- subset(df, select = -c(date))
df1
df1 <- subset(df, select = -c(date, X))
df1
df
df <- subset(df, select = -c(date, X))
df
#Splitting into test and train
DataSize=nrow(df) ## how many rows?
TrainingSet_Size<-floor(DataSize*(3/4)) ## Size for training set
TestSet_Size <- DataSize - TrainingSet_Size ## Size for testing set
## Random sample WITHOUT replacement (why?)
## set a seed if you want it to be the same each time you
## run the code. The number (like 2190) does not matter
set.seed(2190)
## This is the sample of row numbers
MyTrainSample <- sample(nrow(df),
TrainingSet_Size,replace=FALSE)
## Use the sample of row numbers to grab those rows only from
## the dataframe....
MyTrainingSET <- df[MyTrainSample,]
table(MyTrainingSET$recession)
table(MyTrainingSET$unemployment_value)
MyTestSET <- df[-MyTrainSample,]
table(MyTestSET$fed_funds_value)
table(MyTestSET$recession)
TestKnownLabels <- MyTestSET$recession
MyTestSET <- MyTestSET[ , -which(names(MyTestSET) %in% c("recession"))]
head(MyTestSET)
TrainKnownLabels <- MyTrainingSET$recession
MyTrainingSET2 <- MyTrainingSET[ , -which(names(MyTrainingSET) %in% c("recession"))]
head(MyTrainingSET2)
NB<-naiveBayes(MyTrainingSET,
TrainKnownLabels,
laplace = 1)
summary(NB)
typeof(df['gdp_value'][0])
NB_Pred <- predict(NB, MyTestSET)
NB_Pred[1:10]
TestKnownLabels <- MyTestSET$month
MyTestSET <- MyTestSET[ , -which(names(MyTestSET) %in% c("recession"))]
head(MyTestSET)
NB<-naiveBayes(MyTrainingSET,
TrainKnownLabels,
laplace = 1)
summary(NB)
typeof(df['gdp_value'][0])
NB_Pred <- predict(NB, MyTestSET)
NB_Pred[1:10]
setwd("/Users/raunakadvani/anly-501-project-raunakadvani2410/codes/data-exploring")
df <- read.csv("../../data/clean-data/Fredapi_clean.csv")
library(lubridate)
str(df)
#month = format(ymd(df$date , "%Y-%m-%d"))
#df$date <- as.Date(paste(df$date,"-01",sep=""))  # Convert to date
df$month <- month(df$date)
df$month <- as.factor(df$month)
df$recession <- as.factor(df$recession)
df
df <- subset(df, select = -c(date, X))
df
#Splitting into test and train
DataSize=nrow(df) ## how many rows?
TrainingSet_Size<-floor(DataSize*(3/4)) ## Size for training set
TestSet_Size <- DataSize - TrainingSet_Size ## Size for testing set
## Random sample WITHOUT replacement (why?)
## set a seed if you want it to be the same each time you
## run the code. The number (like 2190) does not matter
set.seed(2190)
## This is the sample of row numbers
MyTrainSample <- sample(nrow(df),
TrainingSet_Size,replace=FALSE)
## Use the sample of row numbers to grab those rows only from
## the dataframe....
MyTrainingSET <- df[MyTrainSample,]
table(MyTrainingSET$recession)
table(MyTrainingSET$unemployment_value)
MyTestSET <- df[-MyTrainSample,]
table(MyTestSET$fed_funds_value)
table(MyTestSET$recession)
TestKnownLabels <- MyTestSET$month
MyTestSET <- MyTestSET[ , -which(names(MyTestSET) %in% c("recession"))]
head(MyTestSET)
TrainKnownLabels <- MyTrainingSET$recession
MyTrainingSET2 <- MyTrainingSET[ , -which(names(MyTrainingSET) %in% c("recession"))]
head(MyTrainingSET2)
NB<-naiveBayes(MyTrainingSET,
TrainKnownLabels,
laplace = 1)
summary(NB)
typeof(df['gdp_value'][0])
NB_Pred <- predict(NB, MyTestSET)
NB_Pred[1:10]
data1 = table(NB_Pred,TestKnownLabels)
pheatmap(data1,display_numbers = T,color = colorRampPalette(c('white','red'))(100),cluster_rows = F, cluster_cols = F)
#library(caret)
library(pheatmap)
install.packages(pheatmap)
install.packages(pheatmap)
install.packages(pheatmap)
install.packages("pheatmap")
library(rpart)
library(RColorBrewer)
library(tidyverse)
library(wordcloud)
library(slam)
library(stringr)
library(textmineR)
#library(caret)
library(pheatmap)
library(e1071)
data1 = table(NB_Pred,TestKnownLabels)
pheatmap(data1,display_numbers = T,color = colorRampPalette(c('white','red'))(100),cluster_rows = F, cluster_cols = F)
confusionMatrix(NB_Pred,as.factor(TestKnownLabels))
confusionMatrix(NB_Pred,as.factor(TestKnownLabels))
install.packages("caret")
library(rpart)
library(RColorBrewer)
library(tidyverse)
library(wordcloud)
library(slam)
library(stringr)
library(textmineR)
library(caret)
library(rpart)
library(RColorBrewer)
library(tidyverse)
library(wordcloud)
library(slam)
library(stringr)
library(textmineR)
library(caret)
